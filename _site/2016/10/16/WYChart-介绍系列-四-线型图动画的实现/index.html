<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="iOSã€åˆ›ä½œä¸è®¾è®¡ | ç‹é¢–ï¼ŒiOS Engineer | è¿™é‡Œæ˜¯ç‹é¢–çš„ä¸ªäººåšå®¢ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåˆ†äº«æŠ€æœ¯ï¼Œåˆ†äº«è§é—»ï¼Œåˆ†äº«äººç”Ÿ">
    <meta name="keywords"  content="ç‹é¢–, @georgewang, ç‹é¢–çš„åšå®¢, GeorgeWang Blog, åšå®¢, ä¸ªäººç½‘ç«™, äº’è”ç½‘, iOS, è¯»ä¹¦, æ—…è¡Œ">
    <link rel="shortcut icon" href="/img/seoIcon.jpg">

    <title>WYChartä»‹ç»ç³»åˆ—ï¼ˆå››ï¼‰çº¿å‹å›¾åŠ¨ç”»çš„å®ç° - ç‹é¢–çš„åšå®¢ | GeorgeWang Blog</title>

    <link rel="canonical" href="http://blog.oneinbest.com/2016/10/16/WYChart-%E4%BB%8B%E7%BB%8D%E7%B3%BB%E5%88%97-%E5%9B%9B-%E7%BA%BF%E5%9E%8B%E5%9B%BE%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">GeorgeWang Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-miui6.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-miui6.jpg')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#WYChart" title="WYChart">WYChart</a>
                        
                        <a class="tag" href="/tags/#å¼€æº" title="å¼€æº">å¼€æº</a>
                        
                        <a class="tag" href="/tags/#åŠ¨ç”»" title="åŠ¨ç”»">åŠ¨ç”»</a>
                        
                    </div>
                    <h1>WYChartä»‹ç»ç³»åˆ—ï¼ˆå››ï¼‰çº¿å‹å›¾åŠ¨ç”»çš„å®ç°</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">Posted by GeorgeWang on October 16, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<p>åœ¨å‰é¢çš„æ–‡ç« ä¸­æœ‰æåˆ°WYChartä¸­çº¿å‹å›¾ä½¿ç”¨çš„æ˜¯CoreAnimationæ¡†æ¶ï¼ŒåŠ¨ç”»çš„åˆ¶ä½œä¹Ÿæ˜¯ä½¿ç”¨é‡Œé¢ä¸€ç³»åˆ—çš„æ•ˆæœã€‚</p>

<p>æœ¬æ–‡å°†åˆ†ä¸ºä¸‹é¢å‡ ä¸ªéƒ¨åˆ†åšè®²è§£ï¼š</p>

<ul>
  <li>CoreAnimationçš„åŠ¨ç”»ç±»CABasicAnimationåŠå…¶å­ç±»</li>
  <li>WYChartä¸­çº¿å‹å›¾é‡‡ç”¨çš„åŠ¨ç”»ç±»å‹</li>
  <li>CADisplayLink+UIViewAnimation+CALayerçš„åŠ¨ç”»æ¨¡å¼</li>
</ul>

<p>é‚£ä¹ˆï¼Œå¼€å§‹å§ ğŸ‘‡ğŸ‘‡</p>

<h3 id="coreanimationcabasicanimation">CoreAnimationçš„åŠ¨ç”»ç±»CABasicAnimationåŠç›¸å…³ç±»</h3>

<p><a href="">å®˜æ–¹æ–‡æ¡£</a>å¯¹CABasicAnimationçš„ä»‹ç»æ˜¯è¿™æ ·çš„ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>CABasicAnimation provides basic, single-keyframe animation capabilities for a layer property. 
</code></pre>
</div>

<p>ä¹Ÿå°±æ˜¯ï¼ŒCABasicAnimationä¸ºLayerçš„å±æ€§æä¾›åŸºç¡€ï¼Œç®€å•çš„å…³é”®å¸§åŠ¨ç”»ã€‚è‡³äºå“ªäº›å±æ€§èƒ½åšåŠ¨ç”»ï¼Œåœ¨å„ä¸ªLayerçš„å¤´æ–‡ä»¶ä¸­æœ‰å£°æ˜ï¼Œå¦‚æœæ˜¯<code class="highlighter-rouge">animatable</code>çš„ï¼Œå°±æ˜¯å¯ä»¥åšåŠ¨ç”»çš„ã€‚</p>

<p>CABasicAnimationæœ‰å‡ ä¸ªæ ¸å¿ƒçš„å±æ€§ï¼šduration,fromValue,toValueä»¥åŠkeyPathï¼Œåè€…æ˜¯é€šè¿‡å·¥å‚æ–¹æ³•<code class="highlighter-rouge">animationWithKeyPath:</code>åˆå§‹åŒ–ï¼Œä¹Ÿæ˜¯ç”¨äºåŠ¨ç”»çš„å±æ€§ã€‚å‰ä¸‰ä¸ªå±æ€§ï¼Œdurationç”¨äºå®šä¹‰åŠ¨ç”»çš„æ—¶é•¿ï¼ŒfromValueå’ŒtoValueåˆ†åˆ«æ˜¯å±æ€§å¼€å§‹çš„å€¼å’Œç»“æŸçš„å€¼ï¼Œå®ƒä»¬éƒ½åªæ¥å—å¯¹è±¡ç±»å‹çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯å¦‚æœæ˜¯æ•°å€¼ç±»å‹ï¼Œéœ€è¦å…ˆè½¬åŒ–ä¸ºNSNumberå¯¹è±¡ç±»å‹ã€‚æ¯”å¦‚ï¼Œç°åœ¨å¯¹ä¸€ä¸ªå›¾å±‚åšç”±é€æ˜åˆ°ä¸é€æ˜çš„åŠ¨ç”»ï¼Œåº”è¯¥è¿™æ ·åšï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>CABasicAnimation  *animation = [CABasicAnimation animationWithKeyPath:@"opacity"];
animation.duration = 1.0;
animation.fromValue = @(0.0);
animation.toValue = @(1.0);
[layer addAnimation:animation forKey:@"opacity"];
</code></pre>
</div>

<p>åœ¨<code class="highlighter-rouge">CAAnimation.h</code>å¤´æ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°<strong>CABasicAnimation</strong>æ˜¯ç»§æ‰¿è‡ª<strong>CAPropertyAnimation</strong>ï¼Œåè€…æ˜¯ç»§æ‰¿è‡ª<strong>CAAnimation</strong>ï¼Œå…³äº<strong>CAPropertyAnimation</strong>å’Œ<strong>CAAnimation</strong>è¿™é‡Œä¸å±•å¼€ä»‹ç»ï¼Œæœ‰å…´è¶£çš„è‡ªè¡ŒGoogleã€‚
é‡ç‚¹åœ¨äºï¼Œä»å¤´æ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é™¤äº†<strong>CABasicAnimation</strong>ï¼Œè¿˜æœ‰<strong>CASpringAnimation</strong>ã€<strong>CAKeyframeAnimation</strong>ä»¥åŠ<strong>CATransition</strong>ã€‚</p>

<p><strong>CASpringAnimation</strong>ç»§æ‰¿è‡ªCABasicAnimationï¼Œç”¨äºå®ç°å¼¹ç°§åŠ¨ç”»ï¼›å®ƒæœ‰å‡ ä¸ªå±æ€§ç”¨äºè®¾ç½®å¼¹ç°§çš„æ•ˆæœï¼Œæ¯”å¦‚ç”¨äºè®¾ç½®é‡é‡çš„<code class="highlighter-rouge">mass</code>ï¼Œè¶Šå¤§å¼¹ç°§çš„å‹ç¼©è¶Šä¸¥é‡ï¼›åˆå¦‚ç”¨äºè®¾ç½®åŠ²åº¦ç³»æ•°çš„<code class="highlighter-rouge">stiffness</code>ï¼Œç³»æ•°è¶Šå¤§ï¼ŒåŠ¨ç”»å¼€å§‹æ—¶äº§å“çš„åŠ›æ°”è¶Šå¤§ï¼Œé€Ÿåº¦è¶Šå¿«ï¼›è¿˜æœ‰é˜»å°¼ç³»æ•°<code class="highlighter-rouge">damping</code>ï¼Œè¶Šå¤§å¼¹ç°§åŠ¨ç”»åœæ­¢è¶Šå¿«ï¼›æœ€åæ˜¯åˆå§‹é€Ÿåº¦<code class="highlighter-rouge">initialVelocity</code>ï¼Œè¡¨ç¤ºä¸€å¼€å§‹çš„é€Ÿåº¦ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ª<code class="highlighter-rouge">readonly</code>çš„å±æ€§<code class="highlighter-rouge">settlingDuration</code>ï¼Œç”¨äºä¼°ç®—åŠ¨ç”»çš„æ—¶é—´ã€‚ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¼°ç®—æ—¶é—´ï¼Œå› ä¸ºå¦‚æœå°†å‰é¢æåˆ°çš„<code class="highlighter-rouge">duration</code>å±æ€§è®¾ç½®å°äºè¿™ä¸ªä¼°ç®—æ—¶é—´ï¼Œé‚£åŠ¨ç”»ä¼šåœ¨å¼¹ç°§åœæ­¢ä¹‹å‰ä¾¿ç»“æŸï¼Œè¿™æ ·çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œå› æ­¤éœ€è¦è¿™ä¸ªä¼°ç®—æ—¶é—´ã€‚ä¸è¿‡ï¼Œå®è·µè¯æ˜ï¼Œè¿™ä¸ªä¼°ç®—æ—¶é—´ä¹Ÿä¸æ€ä¹ˆé è°±ï¼Œæ‰€ä»¥ï¼Œå®é™…æ“ä½œæ—¶è¿˜æ˜¯è¦è‡ªå·±è°ƒè¯•ç€ã€‚</p>

<p>CAKeyframeAnimationç»§æ‰¿è‡ªCAPropertyAnimationï¼Œç”¨äºå…³é”®å¸§åŠ¨ç”»ï¼›ä»–æœ‰ä¸€ä¸ªå¿…é€‰å±æ€§<code class="highlighter-rouge">values</code>ï¼Œè¡¨ç¤º<code class="highlighter-rouge">keypath</code>çš„å˜åŒ–è¿‡ç¨‹ï¼›æ­¤å¤–ï¼Œæœ‰ä¸€äº›å¯é€‰çš„å±æ€§ã€‚<code class="highlighter-rouge">path</code>å¯é€‰å±æ€§ï¼Œä¸€èˆ¬ç”¨äºè½¨è¿¹åŠ¨ç”»ï¼Œå¦‚æ—‹è½¬ã€æŠ›ç‰©çº¿ç­‰è¿åŠ¨ï¼Œå½“å®ƒä¸ä¸ºç©ºæ—¶ï¼Œ<code class="highlighter-rouge">values</code>å±æ€§è¢«è¦†ç›–ï¼›<code class="highlighter-rouge">keyTimes</code>å±æ€§å£°æ˜åœ¨<code class="highlighter-rouge">values</code>ä¸­çš„å€¼åœ¨å“ªä¸ªæ—¶é—´èµ·ä½œç”¨ï¼›è¿˜æœ‰è¯¸å¦‚<code class="highlighter-rouge">timingFunctions</code>ã€<code class="highlighter-rouge">calculationMode</code>å’Œ<code class="highlighter-rouge">rotationMode</code>ç­‰å±æ€§ï¼Œé™äºç¯‡å¹…ï¼Œè¿™é‡Œä¸å±•å¼€ç»†è®²ã€‚åœ¨åé¢çš„åšæ–‡ä¸­ï¼Œä¼šå¼€ä¸€ç¯‡ç»†è®²è¿™å‡ ä¸ªåŠ¨ç”»ã€‚</p>

<p>CATransitionç»§æ‰¿è‡ªCAAnimationï¼Œç”¨äºè‡ªå®šä¹‰é¡µé¢è·³è½¬ã€‚åœ¨WYChartä¸­æˆ‘ä»¬ä¸ä¼šç”¨åˆ°ï¼Œæ•…ä¹Ÿä¸å±•å¼€è®²ï¼Œåªæ˜¯è¯´æ˜åœ¨CAAnimationæ—ä¸­æœ‰è¿™ä¸ªç±»ã€‚</p>

<p>ä»¥ä¸Šæ˜¯CoreAnimationçš„åŠ¨ç”»ç±»CABasicAnimationåŠç›¸å…³ç±»çš„ä»‹ç»ï¼Œåº”è¯¥è¯´CABasicAnimationæ˜¯åŸºç¡€ï¼Œä¹Ÿæ˜¯ç”¨å¾—æœ€å¤šçš„ï¼ŒCASpringAnimationå’ŒCAKeyframeAnimationå¯ä»¥åšå‡ºä¸€äº›æ¯”è¾ƒç‰¹åˆ«çš„åŠ¨ç”»ã€‚</p>

<h3 id="wychart">WYChartä¸­çº¿å‹å›¾é‡‡ç”¨çš„åŠ¨ç”»ç±»å‹</h3>

<p>åœ¨WYChartçš„çº¿å‹å›¾ä¸­ï¼Œç›®å‰ä¸€å…±æœ‰äº”ç§åŠ¨ç”»ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>kWYLineChartAnimationDrawing // ç»˜åˆ¶åŠ¨ç”»
kWYLineChartAnimationAlpha   // é€æ˜åº¦åŠ¨ç”»
kWYLineChartAnimationWidth   // å®½åº¦æ¸å˜åŠ¨ç”»
kWYLineChartAnimationRise    // ä¸Šå‡åŠ¨ç”»
kWYLineChartAnimationSpring  // å¼¹ç°§åŠ¨ç”»
</code></pre>
</div>

<p>å‰å››ä¸ªåŠ¨ç”»éƒ½ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œåªè¦ä½¿ç”¨<strong>CABasicAnimation</strong>å°±å¯ä»¥å®ç°ã€‚ä¾‹å¦‚ç»˜åˆ¶åŠ¨ç”»ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>CABasicAnimation  *animation = [CABasicAnimation animationWithKeyPath:@"strokeEnd"];
animation.duration = _animationDuration;
animation.fromValue = @(0.0);
animation.toValue = @(1.0);
[lineLayer addAnimation:animation forKey:@"strokeEnd"];
</code></pre>
</div>

<p>ä½¿ç”¨<code class="highlighter-rouge">strokeEnd</code>å±æ€§åšç»˜åˆ¶åŠ¨ç”»ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š
<img src="/img/post_img/2016-10-13-WYChart-S/LineAnimation_Drawing.gif" alt="Animation_Drawing" /></p>

<p>ä¸è¿‡è¿™å››ä¸ªåŠ¨ç”»é‡Œé¢ï¼Œ<code class="highlighter-rouge">kWYLineChartAnimationRise</code>è¿˜è¦å¯¹<strong>path</strong>åšä¸€ä¸‹å¤„ç†ã€‚æˆ‘ä»¬è¦å®ç°çº¿æ¡ç”±ä¸‹å¾€ä¸Šå‡ï¼Œäºæ˜¯éœ€è¦ä¸¤ä¸ªé¢„å…ˆå®šä¹‰å¥½çš„<strong>path</strong>ï¼Œä¸€ä¸ªæ˜¯æœ€ç»ˆçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æœ€åˆæ„å»ºçš„é‚£ä¸ªï¼Œå¦ä¸€ä¸ªæ˜¯åˆå§‹çŠ¶æ€ï¼Œå…¶æ¯ä¸ªç‚¹çš„Yå€¼éƒ½æ¯”åˆå§‹çš„å€¼å°7ä¸ªå•ä½çš„è·ç¦»åœ¨ä»£ç ä¸­æˆ‘ä»¬è¿™æ ·å®ç°ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[linePath addQuadCurveToPoint:pathSegment.endPoint.point controlPoint:pathSegment.controlPoint.point];
[linePathLower addQuadCurveToPoint:[self pointBelowPoint:pathSegment.endPoint.point forDistance:DEFAULT_RISE_HEIGHT] controlPoint:[self pointBelowPoint:pathSegment.controlPoint.point forDistance:DEFAULT_RISE_HEIGHT]];
</code></pre>
</div>

<p><code class="highlighter-rouge">linePath</code>æ˜¯æœ€ç»ˆçŠ¶æ€ï¼Œ<code class="highlighter-rouge">linePathLower</code>ä¸ºåˆå§‹çŠ¶æ€ï¼Œ<code class="highlighter-rouge">DEFAULT_RISE_HEIGHT </code>ä¸ºä¸Šå‡é«˜åº¦ã€‚</p>

<p>ä»¥ä¸Šéƒ½æ˜¯<strong>CABasicAnimation</strong>çš„ç®€å•åº”ç”¨ï¼ŒçœŸæ­£é‡è¦çš„æ˜¯æ¥ä¸‹æ¥è¦è®²çš„ ğŸ‘‡ğŸ‘‡</p>

<h3 id="cadisplaylinkuiviewanimationcalayer">CADisplayLink+UIViewAnimation+CALayerçš„åŠ¨ç”»æ¨¡å¼</h3>

<p>åœ¨ä¸Šæ–‡ä¸­è¿˜å°‘äº†<code class="highlighter-rouge">kWYLineChartAnimationSpring</code>åŠ¨ç”»æ²¡è®²ï¼Œå› ä¸ºæ¶‰åŠåˆ°çš„å†…å®¹æ¯”è¾ƒå¤æ‚ï¼Œåœ¨è¿™é‡Œç»†è®²ã€‚</p>

<p>æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœæ˜¯ï¼š</p>

<p><img src="/img/post_img/2016-10-13-WYChart-S/LineAnimation_Spring.gif" alt="Animation_Drawing" /></p>

<p>ä½ å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨<code class="highlighter-rouge">CASpringAnimation</code>ç»“åˆ<code class="highlighter-rouge">path</code>å±æ€§æ¥å®ç°ï¼Œæ²¡é”™ï¼Œæœ€åˆæˆ‘ä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§åšæ³•ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œå…¶å®é™…æ•ˆæœå’Œæˆ‘ä»¬çš„æƒ³å»ç”šè¿œï¼Œç”šè‡³æ‰­æ›²ä¸¥é‡ã€‚å› æ­¤è¿™ç§åšæ³•è¡Œä¸é€šï¼Œé‚£æ˜¯å¦è¿˜æœ‰å…¶ä»–é€”å¾„ï¼Ÿ å¿…éœ€çš„ï¼ğŸ˜œ</p>

<p>é‚£å°±æ˜¯CADisplayLink+UIViewAnimation+CALayerçš„åŠ¨ç”»æ¨¡å¼ï¼Œä¸‹é¢æˆ‘ä»¬å…ˆå¯¹è¿™å‡ ä¸ªæ¦‚å¿µåšä¸ªä»‹ç»ã€‚</p>

<h4 id="cadisplaylink">CADisplayLink</h4>

<p><a href="https://developer.apple.com/reference/quartzcore/cadisplaylink">å®˜æ–¹æ–‡æ¡£</a>å¯¹<strong>CADisplayLink</strong>çš„ä»‹ç»å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>A CADisplayLink object is a timer object that allows your application to synchronize its drawing to the refresh rate of the display.
</code></pre>
</div>

<p>ä¹Ÿå°±æ˜¯<strong>CADisplayLinkå¯ä»¥è®©ä½ çš„ç»˜åˆ¶å’Œå±å¹•åˆ·æ–°é¢‘ç‡åŒæ­¥</strong>ã€‚</p>

<p>ç”¨æ³•å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>CADisplayLink  *displayLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(handleScreenUpdate)];
[_displayLink addToRunLoop:[NSRunLoop mainRunLoop] forMode:NSDefaultRunLoopMode];
</code></pre>
</div>

<p>è¿™æ ·å­ï¼Œå‡å¦‚å±å¹•çš„åˆ·æ–°é¢‘ç‡æ˜¯60pf/sï¼Œé‚£ä¹ˆæ¯ç§’<code class="highlighter-rouge">handleScreenUpdate</code>ä¼šè¢«è°ƒç”¨60æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢åšè§†å›¾çš„æ›´æ–°æ“ä½œã€‚ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œæ›´æ–°æ“ä½œè€—è´¹æ—¶é—´ä¸èƒ½è¶…è¿‡1/60sï¼Œå¦åˆ™ä¼šæ‰å¸§ã€‚å¦‚æœä¸æƒ³è°ƒç”¨å¤ªé¢‘ç¹ï¼Œå¯ä»¥è®¾ç½®<code class="highlighter-rouge">frameInterval</code>çš„å€¼ï¼Œæ¯”å¦‚æ¯ç§’åªè°ƒç”¨30æ¬¡ï¼Œé‚£ä¹ˆ<code class="highlighter-rouge">frameInterval = 30</code>ã€‚</p>

<p>æœ‰äº›è¯»è€…å¯èƒ½ä¼šæƒ³åˆ°å¦ä¸€ä¸ªç›¸ä¼¼çš„å·¥å…·<code class="highlighter-rouge">NSTimer</code>ï¼Œä¸è¿‡å®ƒä»¬è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p>

<ul>
  <li>CADisplayLinkæ˜¯å’Œå±å¹•åˆ·æ–°é¢‘ç‡ä¸€è‡´çš„ï¼Œè€ŒNSTimeråˆ™ä¸ç„¶ï¼Œåªæ˜¯æä¾›ä¸€ä¸ªå¾ªç¯è°ƒç”¨çš„åŠŸèƒ½ï¼Œé‡åˆ°NSRunLoopé˜»å¡æ—¶è¿˜ä¼šå»¶è¿Ÿ</li>
  <li>NSTimerä¸»è¦ä½“ç°åœ¨æ§åˆ¶å¾ªç¯æ¬¡æ•°ä¸Šï¼Œè€ŒCADisplayLinkåˆ™ä¸»è¦å¼ºè°ƒä¸å±å¹•åˆ·æ–°ç›¸å…³</li>
</ul>

<p>å› æ­¤ï¼Œå¯¹ä¸å®æ—¶æ€§è¦æ±‚é«˜çš„åœ°æ–¹ï¼Œä½¿ç”¨CADisplayLinkæ¯”è¾ƒé€‚åˆï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å®ç°çš„åŠ¨ç”»ã€‚</p>

<h4 id="uiviewanimation">UIViewAnimation</h4>

<p>ç›¸ä¿¡å¤§å®¶å¹³æ—¶ä¹Ÿä½¿ç”¨è¿‡UIViewçš„animationæ–¹æ³•åšè¿‡ä¸€äº›ç®€å•çš„åŠ¨ç”»ï¼Œæ¯”å¦‚ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[UIView animateWithDuration:_animationDuration + 0.5
                          delay:0.0
         usingSpringWithDamping:0.15
          initialSpringVelocity:1.40
                        options:0
                     animations:^{
                         ...
                     } completion:^(BOOL finished) {
                         ...
                     }];
</code></pre>
</div>

<p>åšå¼¹ç°§åŠ¨ç”»ï¼Œå‚æ•°å’Œæˆ‘ä»¬ä¸Šæ–‡è®²åˆ°çš„<strong>CASpringAnimation</strong>æœ‰ç‚¹ç›¸ä¼¼ã€‚</p>

<h4 id="calayer">CALayer</h4>

<p>è‡³äºCALayerï¼Œç”±äºä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»è¿‡ï¼Œä¸èµ˜è¿°ã€‚ä½†æˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„ï¼Œç¡®åˆ‡è¯´åº”è¯¥æ˜¯åŒ…å«åœ¨UIView<strong>å›¾å±‚æ ‘</strong>ä¸­çš„Layerã€‚å…³äºå›¾å±‚æ ‘ï¼Œåœ¨æˆ‘çš„<a href="">å¦ä¸€ç¯‡æ–‡ç« </a>æœ‰ä»‹ç»è¿‡ã€‚è¿™é‡Œå†ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œå¤§æ¦‚å°±æ˜¯UIViewè¿è¡Œæ—¶åœ¨ç³»ç»Ÿå†…éƒ¨çš„Layerå›¾å±‚æ ‘åˆ†ä¸ºä¸‰ç§ï¼Œåˆ†åˆ«ä¸ºæ¨¡å‹å±‚ã€å±•ç¤ºå±‚å’Œæ¸²æŸ“å±‚ï¼Œæ¨¡å‹å±‚å°±æ˜¯æŒæœ‰viewæ˜¾ç¤ºå±æ€§çš„view.layerï¼›è€Œå±•ç¤ºå±‚åˆ™æ˜¯åœ¨åŠ¨ç”»æ‰§è¡Œæ—¶å®æ—¶åæ˜ å½“å‰å›¾å±‚çŠ¶æ€ï¼Œä¸ºview.layer.presentationLayerï¼›æ¸²æŸ“å±‚æ˜¯ç§æœ‰çš„ï¼Œç”¨äºå°†æ¨¡å‹å±‚å¼‚æ­¥æ¸²æŸ“æˆä¸ºè¡¨ç¤ºå±‚ã€‚è€ŒWYChartä¸­ç”¨å¾—æœ€å¤šçš„è«è¿‡äºå±•ç¤ºå±‚äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è·å¾—åŠ¨ç”»æ‰§è¡Œæ—¶çš„viewçš„ä½ç½®ï¼Œå¦‚æœç®€å•çš„é€šè¿‡view.frame.originæˆ–è€…view.layer.positionï¼Œé‚£ä¹ˆè·å–åˆ°çš„ç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œåªèƒ½é€šè¿‡å±•ç¤ºå±‚view.layer.presentation.positionæ‰èƒ½è·å¾—ä¸´æ—¶ä½ç½®ï¼Œè¿™ä¸€ç‚¹åœ¨ä¸‹æ–‡æ¯”è¾ƒé‡è¦âš ï¸âš ï¸ã€‚ä¸Šæ–‡æåˆ°çš„æ¨¡å¼ï¼Œç¡®åˆ‡çš„è¯´åº”è¯¥æ˜¯<strong>CADisplayLink+UIViewAnimation+presentationLayerçš„åŠ¨ç”»æ¨¡å¼</strong>ã€‚</p>

<hr />

<p>ä¸Šé¢ä»‹ç»äº†è¿™ä¹ˆå¤šï¼Œå…¶å®éƒ½æ˜¯ä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„æ¨¡å¼ï¼Œ<strong>CADisplayLink+UIViewAnimation+CALayerçš„åŠ¨ç”»æ¨¡å¼</strong>ï¼Œæ‰€æœåŠ¡çš„ã€‚</p>

<p>ä¸Šæ–‡æåˆ°ï¼Œæˆ‘ä»¬è¦å®ç°çš„çº¿å‹å›¾å¼¹ç°§æ•ˆæœå¦‚ä¸‹ï¼Œä½†æ˜¯ç”¨CASpringAnimationæ•ˆæœå´ç›¸å»ç”šè¿œã€‚</p>

<p><img src="/img/post_img/2016-10-13-WYChart-S/LineAnimation_Spring.gif" alt="Animation_Drawing" /></p>

<p>ç¡®ä¿ä½ å¯¹ä¸Šé¢æ¦‚å¿µäº†è§£æ¸…æ¥šã€‚
è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç»“åˆä¸Šé¢æåˆ°çš„è¿™ç§æ¨¡å¼æ¥å®ç°ã€‚</p>

<p>æ‰‹åŠ¨å®ç°ä¸€ä¸ªçº¿å‹å›¾çš„å¼¹ç°§åŠ¨ç”»ï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>

<ul>
  <li>è·å–ä¸€ç³»åˆ—å’Œå±å¹•åˆ·æ–°é¢‘ç‡ç›¸è¿‘çš„<strong>å¼¹ç°§å‚æ•°</strong></li>
  <li>æ ¹æ®å¼¹ç°§å‚æ•°æ„å»ºä¸€ç³»åˆ—çš„è´å¡å°”æ›²çº¿</li>
  <li>åœ¨CADisplayLinkæ¯ä¸€å¸§åˆ·æ–°æ—¶åˆ·æ–°çº¿å‹å›¾æ›²çº¿</li>
</ul>

<p>è¦è·å–ä¸€ç³»åˆ—å’Œå±å¹•åˆ·æ–°é¢‘ç‡ç›¸è¿‘çš„<strong>å¼¹ç°§å‚æ•°</strong>ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è‡ªå·±æ¨¡æ‹Ÿï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æŸä¸ªå‡½æ•°ï¼Œç±»ä¼¼çš„æ¯”å¦‚ç”µæ³¢ï¼Œä½†æ˜¯ç»è¿‡ä¸€ç•ªæœç´¢å’Œå¯¹æ¯”ï¼Œè¿™ä¸ªé€”å¾„å¹¶ä¸ç›´è§‚ï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è‡ªå·±æ¢ç´¢ä¸€ç•ªï¼›å¦ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å°±è¿‘å–æï¼ŒUIViewAnimation+presentationLayer.positionã€‚</p>

<p>åšæ³•æ˜¯ï¼Œ1.å®šä¹‰Nä¸ªé€æ˜çš„viewï¼Œè®©å®ƒä»¬åšspringAnimation</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[UIView animateWithDuration:_animationDuration + 0.5
                          delay:0.0
         usingSpringWithDamping:0.15
          initialSpringVelocity:1.40
                        options:0//UIViewAnimationOptionCurveEaseOut
                     animations:^{
                         [_animationControlPoints enumerateObjectsUsingBlock:^(UIView *view, NSUInteger idx, BOOL * _Nonnull stop) {
                         	// éå†æ‰€æœ‰æ¨¡æ‹Ÿç‚¹è§†å›¾ï¼ŒåšåŠ¨ç”»
                             view.center = CGPointMake(view.center.x, ((WYLineChartPoint *)_parentView.points[idx]).y);
                         }];
                     } completion:^(BOOL finished) {
                         if (finished) {
                             _displayLink.paused = true;
                             self.userInteractionEnabled = true;
                         }
                     }];
</code></pre>
</div>

<p>2.å¼€å¯CADisplayLinkï¼Œåœ¨æ‰§è¡Œå‡½æ•°ä¸­é€šè¿‡view.layer.presentationLayer.position.xå–å¾—viewä¸åŸç‚¹çš„åç¦»å€¼
3.ç„¶åå¯¹æ‰€æœ‰ç»™å‡ºçš„æ•°æ®ç‚¹çš„yå€¼ä¸åç¦»å€¼åšè¿ç®—ï¼Œå¾—å‡ºæ–°çš„yå€¼</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[_parentView.points enumerateObjectsUsingBlock:^(WYLineChartPoint *point, NSUInteger idx, BOOL * _Nonnull stop) {
    UIView *view = _animationControlPoints[idx];
    point.x = [view wy_centerForPresentationLayer:true].x;// é€šè¿‡presentationLayer.positionè·å¾—å®æ—¶ä½ç½®
    point.y = [view wy_centerForPresentationLayer:true].y;// é€šè¿‡presentationLayer.positionè·å¾—å®æ—¶ä½ç½®
}];
</code></pre>
</div>

<p>4.é‡æ–°æ„å»ºè´å¡å°”æ›²çº¿åº”ç”¨åˆ°çº¿å‹å›¾ä¸Šï¼Œå¹¶å®Œæˆä¸€å¸§çš„åˆ·æ–°</p>

<div class="highlighter-rouge"><pre class="highlight"><code>UIBezierPath *linePath = [self currentLinePathForWave];
_lineShapeLayer.path = linePath.CGPath;
</code></pre>
</div>

<p>è¿™ä¾¿æ˜¯æˆ‘ä»¬çš„å¼¹ç°§åŠ¨ç”»æ‰‹åŠ¨å®ç°è¿‡ç¨‹  ğŸ»ğŸ»</p>

<h2 id="section">æ€»ç»“</h2>

<p>æœ¬æ–‡æˆ‘ä»¬ä»CABasicAnimationåŠå…¶ç›¸å…³ç±»ä»‹ç»å¼€å§‹ï¼Œå¤§è‡´è®²è¿°äº†CoreAniamtionçš„åŠ¨ç”»ç±»å‹åŠç®€å•ç”¨æ³•ï¼Œæ¥ç€ä»‹ç»äº†WYChartä¸­çº¿å‹å›¾çš„åŠ¨ç”»ç±»å‹åŠéƒ¨åˆ†ç®€å•å®ç°æ–¹å¼ï¼Œæœ€åä»‹ç»äº†æœ€é‡è¦çš„<strong>CADisplayLink+UIViewAnimation+CALayerçš„åŠ¨ç”»æ¨¡å¼</strong>ã€‚æœ¬æ–‡ä»‹ç»åˆ°çš„å†…å®¹ï¼Œåº”è¯¥æ˜¯æ¯ä¸ªiOSå¼€å‘è€…éƒ½è¦äº†è§£çš„ï¼Œå› ä¸ºå¾ˆå¤šUIå±‚çš„å†…å®¹éƒ½å’Œå®ƒä»¬æ¯æ¯ç›¸å…³ã€‚ä¾‹å¦‚CADisplayLink+presentationLayerçš„æ¨¡å¼ï¼Œè¿˜å¯ä»¥ç»“åˆUIDynamicåšå‡ºå¾ˆå¤šæ¥è¿‘ç°å®çš„é€¼çœŸçš„åŠ¨ç”»ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸ªäººè®¤ä¸ºæœ¬æ–‡çš„å†…å®¹è¿˜æ˜¯æ¯”è¾ƒæœ‰ä»·å€¼çš„ï¼Œå¯¹äºæˆ‘è‡ªå·±ï¼Œä½œä¸ºä¸€ä¸ªç¬”è®°ï¼Œå¯ä»¥æ—¶å¸¸æ¸©ä¹ ï¼Œå¯¹äºæ–°æ‰‹å¼€å‘è€…ï¼Œåˆæ˜¯ä¸€ä¸ªæé«˜çš„æ•™ç¨‹ï¼Œå¸Œæœ›å®ƒå¯ä»¥å¸®åˆ°ä½ ï¼Œè°¢è°¢ä½ çš„é˜…è¯»ã€‚</p>

<h4 id="section-1">ç›¸å…³æ–‡ç« </h4>

<ul>
  <li><a href="https://objccn.io/issue-12-0/">Objcå…³äºåŠ¨ç”»çš„ä»‹ç»</a></li>
  <li><a href="https://developer.apple.com/reference/quartzcore">å®˜æ–¹å¯¹QuartzCoreçš„ä»‹ç»</a></li>
  <li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CoreAnimation_guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004514">å®˜æ–¹çš„AnimationæŒ‡å¯¼</a></li>
  <li><a href="https://zsisme.gitbooks.io/ios-/content/index.html">GitBookä¸Šä¸€æœ¬å…³äºåŠ¨ç”»çš„ä¹¦</a></li>
</ul>


                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2016/10/15/WYChart-%E4%BB%8B%E7%BB%8D%E7%B3%BB%E5%88%97-%E4%B8%89-%E7%BA%BF%E5%9E%8B%E5%9B%BE%E7%BB%98%E5%88%B6/" data-toggle="tooltip" data-placement="top" title="WYChartä»‹ç»ç³»åˆ—ï¼ˆä¸‰ï¼‰çº¿å‹å›¾ç»˜åˆ¶">
                        Previous<br>
                        <span>WYChartä»‹ç»ç³»åˆ—ï¼ˆä¸‰ï¼‰çº¿å‹å›¾ç»˜åˆ¶</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2016/11/07/WYChart-%E4%BB%8B%E7%BB%8D%E7%B3%BB%E5%88%97-%E4%BA%94-%E4%BA%A4%E4%BA%92-%E7%BA%BF%E5%9E%8B%E5%9B%BE%E8%A7%A6%E7%A2%B0%E7%82%B9%E4%BB%A5%E5%8F%8A%E7%BC%A9%E6%94%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/" data-toggle="tooltip" data-placement="top" title="WYChartä»‹ç»ç³»åˆ—ï¼ˆäº”ï¼‰äº¤äº’ï¼šçº¿å‹å›¾è§¦ç¢°ç‚¹ä»¥åŠç¼©æ”¾çš„å®ç°">
                        Next<br>
                        <span>WYChartä»‹ç»ç³»åˆ—ï¼ˆäº”ï¼‰äº¤äº’ï¼šçº¿å‹å›¾è§¦ç¢°ç‚¹ä»¥åŠç¼©æ”¾çš„å®ç°</span>
                        </a>
                    </li>
                    
                </ul>
<hr>
<!-- JiaThis Button BEGIN -->
<div class="jiathis_style"><span class="jiathis_txt">åˆ†äº«åˆ°ï¼š</span>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_ydnote"></a>
<a class="jiathis_button_fb"></a>
<a href="http://www.jiathis.com/share?uid=2116351" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
    data_track_clickback:true,
    siteNum:4,
    sm:"tsina,weixin,ydnote,fb",
    summary:"",
    boldNum:4,
    shortUrl:false,
    hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=2116351" charset="utf-8"></script>
<!-- JiaThis Button END -->







<div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
<script>
  var cloudTieConfig = {
    url: "http://blog.oneinbest.com/2016/10/16/WYChart-%E4%BB%8B%E7%BB%8D%E7%B3%BB%E5%88%97-%E5%9B%9B-%E7%BA%BF%E5%9E%8B%E5%9B%BE%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/", 
    sourceId: "http://blog.oneinbest.com/2016/10/16/WYChart-%E4%BB%8B%E7%BB%8D%E7%B3%BB%E5%88%97-%E5%9B%9B-%E7%BA%BF%E5%9E%8B%E5%9B%BE%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/",
    productKey: "1ed9a4bea780408289b61120e47c3586",
    target: "cloud-tie-wrapper"
  };
</script>

</div>

<script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>


                

            </div>  

    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>



<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
    // dynamic User by Hux
    var _user = 'huxblog';

    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->







<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/_ç‹é¢–_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/GeorgeWang03">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; GeorgeWang Blog 2016
                    <!-- <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> | -->
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=GeorgeWang03&repo=georgewang03.github.io&type=star&count=true" >
                    </iframe>
                </p>
                <p align="center"><font size="2" color="#808080">
                <span id="busuanzi_container_site_pv">æ‚¨æ˜¯æœ¬ç«™ç¬¬<span id="busuanzi_value_site_pv"></span>ä½è®¿å®¢</span></font>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->
<!-- ä¸è’œå­ -->
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->




<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
