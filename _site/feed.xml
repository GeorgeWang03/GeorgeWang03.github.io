<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>GeorgeWang Blog</title>
    <description>iOSã€åˆ›ä½œä¸è®¾è®¡ | ç‹é¢–ï¼ŒiOS Engineer | è¿™é‡Œæ˜¯ç‹é¢–çš„ä¸ªäººåšå®¢ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåˆ†äº«æŠ€æœ¯ï¼Œåˆ†äº«è§é—»ï¼Œåˆ†äº«äººç”Ÿ</description>
    <link>http://blog.oneinbest.com/</link>
    <atom:link href="http://blog.oneinbest.com/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 27 Sep 2016 09:30:28 +0800</pubDate>
    <lastBuildDate>Tue, 27 Sep 2016 09:30:28 +0800</lastBuildDate>
    <generator>Jekyll v3.2.1</generator>
    
      <item>
        <title>Github çš„ ssh ç§˜é’¥é…ç½® ä»¥åŠç™»å½•é—®é¢˜</title>
        <description>&lt;p&gt;æœ€è¿‘åœ¨githubä¸Šéƒ¨ç½²é¡¹ç›®çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°†é¡¹ç›®æ‹·è´ä¸‹æ¥ä¹‹åï¼Œä¿®æ”¹å®Œå†åº¦pushä¸Šå»ï¼Œå´æ”¶åˆ° &lt;strong&gt;Permission to user/repo denied to other-user&lt;/strong&gt; çš„é”™è¯¯ï¼Œåœ¨github helpæœç´¢ä¹‹åï¼Œå…¶ç»™å‡ºçš„ç­”æ¡ˆå¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	This error means the key you are pushing with is attached to an account which does not have access to the repository.
	To fix this, the owner of the repository (user) needs to add your account (other-user) as a collaborator on the repository or to a team that has write access to the repository.â€¨ å¤§æ¦‚æ„æ€å°±æ˜¯æ‰€ç»™å‡ºçš„ç§˜é’¥æ— æƒåˆ©è®¿é—®è¿™ä¸ªé¡¹ç›®ã€‚éœ€è¦è®©é¡¹ç›®æ‰€æœ‰è€…å°†other-useråŠ å…¥åˆ°é¡¹ç›®ç»„ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å…ˆè¯´ä¸‹æœ€ç»ˆçš„è§£å†³åŠæ³•ï¼Œå…¶å®å°±æ˜¯ä»¥å‰ç™»å½•è¿‡çš„è´¦æˆ·ä¿ç•™åœ¨ç³»ç»Ÿçš„é’¥åŒ™ä¸²ä¸­ï¼Œæ‰€ä»¥å½“å‰çš„ç”¨æˆ·æ˜¯other-userï¼Œè‡ªç„¶æ— æƒåˆ©è®¿é—®ã€‚åŠæ³•å°±æ˜¯åœ¨ç³»ç»Ÿé’¥åŒ™ä¸²è®¾ç½®ä¸­å°†ä»¥å‰çš„é‚®ç®±å…³äºgithubçš„é’¥åŒ™ä¸²åˆ é™¤ï¼Œå›åˆ°ç»ˆç«¯é‡æ–°pushï¼Œè¾“å…¥è´¦æˆ·å’Œç”¨æˆ·åï¼Œä¾¿å¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æ˜¯åˆ†ç•Œçº¿
***&lt;/p&gt;

&lt;p&gt;è§£å†³è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œæ›´é‡è¦çš„æ˜¯ä¸€å¼€å§‹çš„è¯¯æ‰“è¯¯æ’ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.æœ€å¼€å§‹&lt;/strong&gt; ä»¥ä¸ºæ˜¯gitçš„configé—®é¢˜ï¼Œäºæ˜¯ä¿®æ”¹username,useremailç­‰ï¼Œä¸‹é¢æ˜¯å…³äºgit configçš„ä¸€äº›è®¾ç½®æ–¹æ³•&lt;/p&gt;

&lt;p&gt;configæ–‡ä»¶è·¯å¾„(mac osä¸‹) ï¼š ~/.gitconfig&lt;/p&gt;

&lt;p&gt;configçš„è®¾ç½®åˆ†ä¸ºå‡ ä¸ªç­‰çº§ï¼Œglobalï¼Œprojectï¼Œå­çº§é»˜è®¤ç”¨ä¸Šçº§çš„è®¾ç½®ã€‚&lt;/p&gt;

&lt;p&gt;å‘½ä»¤è¡Œçš„è®¾ç½®æ³•&lt;/p&gt;

&lt;p&gt;git config [â€“global] user.name yourUsername
git config [â€“global] user.email yourUsername&lt;/p&gt;

&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œæ—¶ï¼Œä¸åŠ â€“globalé€‰é¡¹ï¼Œä¸ºè®¾ç½®é¡¹ç›®gité…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;configçš„ä½œç”¨æ˜¯ï¼Œè®¾ç½®åˆ†æ”¯å¼€å‘æ—¶çš„ä½œè€…ä¿¡æ¯ï¼Œæš‚æ—¶äº†è§£è¿™ç‚¹ï¼Œå…¶ä»–çš„åç»­å†ç ”ç©¶ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.éšå&lt;/strong&gt; åœ¨stackoverflowå’Œgithelpä¸Šæœç´¢ï¼Œè¯´æ˜¯å…¬é’¥çš„é—®é¢˜ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹ssh keyçš„é…ç½®&lt;/p&gt;

&lt;p&gt;githubç”¨rsaéå¯¹ç§°ç§˜é’¥æ¥è¿›è¡Œhttpsçš„åŠ å¯†ï¼Œç”¨äºå®¢æˆ·ç«¯ä¸githubæœåŠ¡å™¨è¿›è¡Œé€šä¿¡æ—¶çš„è®¤è¯ï¼Œä¹Ÿå°±æ˜¯å¸¸è§çš„ git@github.com:user/rep è¿œç¨‹ä»“åº“é€šä¿¡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å…³äºssh keyçš„éƒ¨ç½²&lt;/strong&gt;ï¼ŒğŸ‘‰ &lt;a href=&quot;&amp;quot;https://help.github.com/categories/ssh/&amp;quot;&quot;&gt;å®˜æ–¹æ•™ç¨‹&lt;/a&gt;â€¨
å¤§æ¦‚çš„æ­¥éª¤æ˜¯&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.æŸ¥çœ‹ç³»ç»Ÿå·²ç»å­˜åœ¨çš„rsaç§˜é’¥å¯¹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$ ls -al ~/.sshâ€¨ å¦‚æœå‡ºç°id_dsaä¸id_dsa.pubç±»ä¼¼çš„ç§é’¥å…¬é’¥ç§˜é’¥å¯¹çš„è¯ï¼Œå°±è¯æ˜ä»¥å‰é…ç½®è¿‡ï¼Œå½“ç„¶åœ¨è¿™é‡Œæ˜¯ä»‹ç»æ€ä¹ˆé…ç½®ï¼Œæ‰€ä»¥ç»§ç»­å¾€ä¸‹çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;2.æ–°å»ºç§˜é’¥å¯¹å¹¶æ·»åŠ åˆ°sshä»£ç†&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$ ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;â€¨ ç„¶åè®¾ç½®ç§˜é’¥çš„åå­—

	Enter a file in which to save the key (/Users/you/.ssh/id_rsa):â€¨ ä¸€èˆ¬è‡ªå·±å‘½åä¸º **id_rsa_somename**
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ¥ä¸‹å»çš„é—®é¢˜éªŒè¯æœ‰å…´è¶£çš„å¯ä»¥åˆ°githelpçœ‹ï¼Œè¿™é‡Œä¸åšè¯¦è§£&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	Enter passphrase (empty for no passphrase): [Type a passphrase]
	Enter same passphrase again: [Type passphrase again]â€¨ ç›´æ¥æŒ‰enterä¹Ÿå¯ä»¥
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;3.æŠŠç§˜é’¥å¯¹æ·»åŠ åˆ°ä»£ç†&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæŸ¥çœ‹ä»£ç†æ˜¯å¦å¯ç”¨&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$ eval &quot;$(ssh-agent -s)&quot;â€¨ å‡ºç°ä¸‹é¢ç»“æœ

	Agent pid 59566(æˆ–è€…å…¶å®ƒid)â€¨ è¯æ˜æ˜¯æœ‰ç”¨çš„ï¼Œç„¶å

	$ ssh-add ~/.ssh/id_rsaâ€¨ id_rsaåº”è¯¥æ˜¯ç¬¬2æ­¥æ—¶ä½ ç§˜é’¥çš„å‘½å
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;4.æŠŠç§˜é’¥æ·»åŠ åˆ°ä½ çš„github&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¤åˆ¶ç§˜é’¥ä¿¡æ¯åˆ°ç²˜è´´æ¿&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$ pbcopy &amp;lt; ~/.ssh/id_rsa.pubâ€¨ é€‰æ‹©githubä¸ªäººçš„ **setting-SSH and GPG keys-New SSH key or Add SSH key**
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å…¥ä¸€ä¸ªç§˜é’¥åå­—ï¼Œç„¶åcommand+vç²˜è´´ç§˜é’¥å†…å®¹ï¼Œæœ€åç‚¹å‡»&lt;strong&gt;Add SSH key&lt;/strong&gt;ç¡®è®¤ã€‚&lt;/p&gt;

&lt;p&gt;5.æ£€æµ‹ç§˜é’¥å¯¹æ˜¯å¦èƒ½é“¾æ¥æˆåŠŸ&lt;/p&gt;

&lt;p&gt;ç»ˆç«¯è¾“å…¥ ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	ssh -T git@github.comâ€¨ å¦‚æœå‡ºç°ï¼š

	Hi username! You've successfully authenticated, but GitHub does not provide shell access.â€¨ åˆ™éªŒè¯æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å…¶å®å¦‚æœæ²¡é…ç½®ssh keyçš„è¯ï¼Œæç¤ºçš„é”™è¯¯ä¿¡æ¯åº”è¯¥æ˜¯ &lt;strong&gt;Permission to user/repo denied to (other-)user/other-repo&lt;/strong&gt; ï¼Œæ‰€ä»¥é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ä¹Ÿå¯ä»¥å€Ÿé‰´ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæœ‰å…¶å®ƒé—®é¢˜ï¼Œè¯·åˆ°githelpå¯»æ±‚å¸®åŠ©ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä»¥ä¸Š&lt;/strong&gt; ä¸¤ç§å°±æ˜¯ä¸€å¼€å§‹è¯¯æ‰“è¯¯æ’å»æ¢ç©¶çš„ç»“æœï¼Œè™½è¯´æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿå­¦å¦‚ä½•é…ç½®gitçš„ç§˜é’¥ç­‰å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ€»è€Œè¨€ä¹‹&lt;/strong&gt;ï¼Œgithubçš„è´¦æˆ·åˆ‡æ¢æ—¶ï¼Œè¦æ³¨æ„å¯¹é…ç½®ä¿¡æ¯å’Œé’¥åŒ™ä¸²çš„æ›´æ¢ï¼Œå¦åˆ™ä¼šå‡ºç°Permission â€¦ denied to â€¦ çš„é”™è¯¯ã€‚&lt;/p&gt;

</description>
        <pubDate>Thu, 22 Sep 2016 23:22:00 +0800</pubDate>
        <link>http://blog.oneinbest.com/2016/09/22/Github-%E7%9A%84-ssh-%E7%A7%98%E9%92%A5%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E7%99%BB%E5%BD%95%E9%97%AE%E9%A2%98/</link>
        <guid isPermaLink="true">http://blog.oneinbest.com/2016/09/22/Github-%E7%9A%84-ssh-%E7%A7%98%E9%92%A5%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E7%99%BB%E5%BD%95%E9%97%AE%E9%A2%98/</guid>
        
        <category>Git</category>
        
        <category>ssh</category>
        
        
      </item>
    
      <item>
        <title>å…³äºæˆ‘çš„åšå®¢è¯´æ˜</title>
        <description>&lt;p&gt;è¿™æ˜¯æˆ‘çš„æ–°åšå®¢ï¼ŒåŸºäºgitpageå’Œjekyllæ­å»ºã€‚&lt;/p&gt;

&lt;p&gt;ä½ å¯èƒ½ä¼šçœ‹åˆ°æœ‰äº›æ–‡ç« æ¯”æˆ‘åšå®¢é¡¹ç›®æ—¶é—´è¿˜æ—©ï¼Œè¿™æ˜¯å› ä¸ºå¾ˆå¤šæ–‡ç« æ˜¯ä»ä»¥å‰çš„&lt;a href=&quot;&amp;quot;www.oneinbset.com&amp;quot;&quot;&gt;åšå®¢&lt;/a&gt;è¿è¿‡æ¥çš„ï¼Œæ˜¯ä»¥å‰å†™çš„ï¼Œä¸èˆå¾—æ”¾å¼ƒï¼Œæ‰€ä»¥è¿è¿‡æ¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘æ¯”è¾ƒå–œæ¬¢æŠ˜è…¾ï¼Œä»ä¸€å¼€å§‹åœ¨csdnå†™åšå®¢ï¼Œå‘ç°ä¸å°½æˆ‘æ„ï¼Œåˆè‡ªå·±ä¹°äº†ä¸€ä¸ªä¸»æœºå’ŒåŸŸåï¼Œä½¿ç”¨wpæ­å»ºä¸€ä¸ªåšå®¢ï¼Œç°åœ¨ç”±äºwpæ¯”è¾ƒç¬¨é‡ï¼ŒåŠ ä¸Šæ‰€è´­ä¹°çš„ä¸»æœºç©ºé—´æœ‰é™ï¼Œæœæ–­æŠ›å¼ƒä¹‹ï¼Œä½¿ç”¨æ›´åŠ è½»é‡çº§çš„jekyllå’Œç©ºé—´æ— é™çš„gitpageã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œæˆ‘ä¼šå°½æˆ‘æ‰€èƒ½ï¼ŒæŠŠæˆ‘è§‰å¾—æœ‰æ„ä¹‰æœ‰ä»·å€¼çš„äº‹æƒ…è®°å½•ä¸‹æ¥ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘çš„åŠ¨åŠ›ï¼Œè°¢è°¢ï¼ğŸ»ğŸ»&lt;/p&gt;
</description>
        <pubDate>Thu, 22 Sep 2016 07:39:00 +0800</pubDate>
        <link>http://blog.oneinbest.com/2016/09/22/%E5%85%B3%E4%BA%8E%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E8%AF%B4%E6%98%8E/</link>
        <guid isPermaLink="true">http://blog.oneinbest.com/2016/09/22/%E5%85%B3%E4%BA%8E%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E8%AF%B4%E6%98%8E/</guid>
        
        <category>åšå®¢è¯´æ˜</category>
        
        
      </item>
    
      <item>
        <title>iOSä¸­çš„KVOæœºåˆ¶å‰–æ</title>
        <description>&lt;p&gt;KVOå³ key value observingé”®å€¼å¯¹è§‚å¯Ÿï¼Œæ˜¯objcä¸­çš„ä¸€ç§æœºåˆ¶ã€‚
KVOä»¥KVC(key value coding)ä¸ºåŸºç¡€ï¼Œé€šè¿‡å‘å¯¹è±¡çš„æŸä¸ªé”®å€¼æ·»åŠ è§‚å¯Ÿè€…ï¼Œå½“å¯¹è±¡é”®æ‰€å¯¹åº”çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šçŸ¥è§‚å¯Ÿè€…ï¼Œæ‰§è¡Œç›¸å…³çš„å›è°ƒæ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹æè¿°åˆ†ä¸ºKVOçš„ä½¿ç”¨ï¼ŒOBJCå®ç°KVOæœºåˆ¶çš„å‰–æï¼ŒKVOçš„DIYï¼Œfbçš„KVOå¼€æºåº“ä»‹ç»ï¼Œå››éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	KVOçš„æ“ä½œå›è°ƒæ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­è¿›è¡Œçš„ï¼Œå’ŒNOTIFICATIONä¸€æ ·
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;kvo&quot;&gt;1. KVOçš„ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;objcä¸­ç»™å¯¹è±¡é”®å€¼æ·»åŠ è§‚å¯Ÿè€…ï¼Œé€šè¿‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[obj addObserver:forKeyPath:option:context:]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å›è°ƒå‡½æ•°ï¼šâ€¨&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;observeValueForKeyPath:ofObject:change:context:
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç§»é™¤é€šçŸ¥ï¼š(è¿™æ˜¯ä¸€å®šè¦çš„ï¼Œä¸ç„¶ä¼šå¯¼è‡´crash)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;removeObserver:forKeyPath:
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;objckvo&quot;&gt;2. OBJCå®ç°KVOæœºåˆ¶çš„å‰–æ&lt;/h2&gt;
&lt;p&gt;å…ˆè´´ä¸Šå‡ ä¸ªè§£ææ¥æºï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.&lt;a href=&quot;&amp;quot;https://github.com/ChenYilong/iOSInterviewQuestions&amp;quot;&quot;&gt;ã€Šæ‹›è˜ä¸€ä¸ªé è°±çš„iOSã€‹é¢è¯•é¢˜&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2.&lt;a href=&quot;&amp;quot;https://www.mikeash.com/pyblog/friday-qa-2009-01-23.html&amp;quot;&quot;&gt;https://www.mikeash.com/pyblog/friday-qa-2009-01-23.html&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;objcé€šè¿‡ä»€ä¹ˆæ¥å®ç°å¯¹é”®å€¼æ·»åŠ è§‚å¯Ÿè€…å¹¶å‘é€é€šçŸ¥å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;objcåŸºäºruntime,ä»¥setteræ–¹æ³•ä¸ºå…¥å£ï¼Œå®ç°è¿™ä¸€æœºåˆ¶ã€‚
é¦–å…ˆéœ€è¦çŸ¥é“çš„æ˜¯ï¼Œobjcçš„å¯¹è±¡å®ä¾‹isaæŒ‡é’ˆï¼Œå†…å­˜å¸ƒå±€ï¼ŒClassç»“æ„ä½“è¡¨ç¤ºç±»ã€‚&lt;/p&gt;

&lt;p&gt;å½“å‘å¯¹è±¡æ·»åŠ é”®å€¼è§‚å¯Ÿè€…æ—¶ï¼Œobjcé€šè¿‡runtimeåŠ¨æ€ç”Ÿæˆå¯¹è±¡æ‰€å±çš„ç±»çš„å­ç±»ï¼Œé‡å†™setterï¼Œå¹¶å°†å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘æ–°ç±»ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­è¿˜é‡å†™äº†å­ç±»çš„classæ–¹æ³•ï¼Œå‘å¼€å‘è€…éšè—æ–°å»ºå­ç±» (ä¹Ÿå°±æ˜¯æ‰€è°“çš„isaæ··å†™(isa-swizzling))ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ–°çš„ç±»çš„setterä¸­ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[super setObject:]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¹¶åœ¨å‰åæ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[self willChangeValueForKey:]ä¸[self didChangeValueForKey:]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¹¶åœ¨åè€…æ‰§è¡Œæ—¶è°ƒç”¨è§‚å¯Ÿè€…çš„å›è°ƒå‡½æ•°ï¼Œæ‰€ä»¥åœ¨è§‚å¯Ÿè€…deallocæ—¶å¿…é¡»æ³¨é”€æ‰€è®¾ç½®çš„è§‚å¯Ÿï¼Œå¦åˆ™ä¼šå‘é€æ¶ˆæ¯ç»™deallocå¯¹è±¡ï¼Œé€ æˆcrashã€‚&lt;/p&gt;

&lt;p&gt;##3. KVOçš„DIY
ç…§ä¾‹è´´ä¸Šæ‰‹åŠ¨å®ç°KVOçš„æ–¹æ³•é“¾æ¥ï¼š&lt;a href=&quot;&amp;quot;http://tech.glowing.com/cn/implement-kvo/&amp;quot;&quot;&gt;http://tech.glowing.com/cn/implement-kvo/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„å‰–æï¼Œæˆ‘ä»¬çŸ¥é“äº†KVOçš„å®ç°åŸç†&lt;/p&gt;

&lt;p&gt;å¦‚æœè¦æ‰‹åŠ¨å®ç°ï¼Œé‚£æœ‰ä¸¤ä¸ªè¿‡ç¨‹å¿…é¡»å®ç°&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1.æ·»åŠ è§‚å¯Ÿè€…æ¥å£åŠè¿‡ç¨‹
2.é”®å€¼æ”¹å˜æ—¶çš„é€šçŸ¥è¿‡ç¨‹å®ç°
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;1.æ·»åŠ è§‚å¯Ÿè€…æ¥å£åŠè¿‡ç¨‹&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1.1 æ£€æŸ¥å¯¹è±¡çš„ç±»æœ‰æ²¡æœ‰ç›¸åº”setteræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼›
	æ£€æŸ¥å¯¹è±¡ isa æŒ‡å‘çš„ç±»æ˜¯ä¸æ˜¯ä¸€ä¸ªæœ‰kPGKVOClassPrefixå‰ç¼€çš„KVOç±»ï¼Œå¦‚æœä¸æ˜¯éœ€è¦åˆ›å»ºæ–°å­ç±»ï¼Œå¹¶æŠŠisaæŒ‡é’ˆæŒ‡å‘æ–°ç±»ï¼Œå®ç°classæ–¹æ³•

1.2 æ£€æŸ¥æœ‰æ²¡æœ‰KVOçš„setteræ–¹æ³•ï¼Œæ²¡æœ‰çš„è¯æ„å»ºæ–°ç±»çš„setteræ–¹æ³•

1.3 æŠŠè§‚å¯Ÿè€…æ·»åŠ åˆ°è§‚å¯Ÿè€…åˆ—è¡¨ï¼Œä½¿ç”¨***å…³è”å¯¹è±¡(objc_setAssociationObj)*** ç»‘å®šåˆ—è¡¨
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;2.é”®å€¼æ”¹å˜æ—¶çš„é€šçŸ¥è¿‡ç¨‹å®ç°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2.1 é€šè¿‡runtimeåŠ¨æ€æ‰§è¡Œçˆ¶ç±»ä¹Ÿå°±æ˜¯åŸæ¥çš„ç±»çš„setteræ–¹æ³•

2.2 å–å‡ºæœ‰å…³keyPathçš„è§‚å¯Ÿè€…ï¼Œå¹¶é€ä¸€è°ƒç”¨å›è°ƒå‡½æ•°block
â€¨â€¨##4.KVOController
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ğŸ‘‰ &lt;a ref=&quot;&quot;&gt;FaceBookçš„KVOControlleré“¾æ¥&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;KVOControlleræ˜¯Facebookå¼€æºçš„ä¸€ä¸ªKVOåº“ï¼Œå…¶å¯ä»¥èšåˆKVOæ“ä½œï¼Œä½¿ç”¨blockæ‰§è¡Œè§‚å¯Ÿæ“ä½œï¼Œå¥½å¤„æ˜¯å¯ä»¥ä¸ç”¨è‡ªå·±å»removeè§‚å¯Ÿè€…ï¼Œé˜²æ­¢å› ä¸ºå¿˜è®°removeé€ æˆcrashï¼Œä»¥ä¸‹æ˜¯å…¶ç”¨æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
// create KVO controller with observer
FBKVOController *KVOController = [FBKVOController controllerWithObserver:self];
self.KVOController = KVOController;

// observe clock date property
[self.KVOController observe:clock keyPath:@&quot;date&quot; options:NSKeyValueObservingOptionInitial|NSKeyValueObservingOptionNew block:^(ClockView *clockView, Clock *clock, NSDictionary *change) {

  // update clock view with new value
  clockView.date = change[NSKeyValueChangeNewKey];
}];
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;section&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;KVO&lt;/strong&gt; æ˜¯objcä¸€é¡¹é‡è¦çš„ç‰¹æ€§å’Œè®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯GOFè§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ã€‚å¼€å‘ä¸­ç»å¸¸ç”¨äºè§‚å¯Ÿæ•°æ®å±‚(data)å˜åŒ–è€Œå¯¹è§†å›¾å±‚(view)ä½œå‡ºç›¸åº”çš„æ”¹å˜ï¼Œä¹Ÿæ˜¯ä¸€ç§å“åº”æ–¹å¼ã€‚ç”±äºå…¶éœ€è¦æ‰‹åŠ¨ç§»åŠ¨è§‚å¯Ÿï¼Œå¦åˆ™ä¼šå¯¼è‡´crashï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦å°å¿ƒã€‚Facebookçš„KVOControllerå¯¹objcçš„KVOè¿›è¡Œå°è£…ï¼Œä½¿ç”¨blockæ¨¡å¼ï¼Œè®©å¼€å‘è€…æ›´çœå¿ƒã€‚KVOåœ¨objcçš„åº•å±‚å®ç°æ˜¯isaæ··ç¼–ï¼Œç”Ÿæˆå­ç±»å¹¶é‡å†™setterï¼Œç„¶åé€šçŸ¥è§‚å¯Ÿä¸­ã€‚æ‰‹åŠ¨å®ç°KVOéœ€è¦å¯¹ç±»åšæ˜¯å¦KVOå­ç±»çš„åˆ¤æ–­ï¼Œä»è€Œå†³å®šæ˜¯å¦ç”Ÿæˆå­ç±»ã€‚æ€»è€Œè¨€ä¹‹ï¼ŒKVOæ˜¯objcä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„è¯­è¨€ç‰¹æ€§ï¼Œä½¿ç”¨å¥½å®ƒï¼Œèƒ½ä¸ºä½ å¸¦æ¥ä¸å°çš„å¥½å¤„ã€‚&lt;/p&gt;
</description>
        <pubDate>Wed, 23 Dec 2015 07:39:00 +0800</pubDate>
        <link>http://blog.oneinbest.com/2015/12/23/iOS%E4%B8%AD%E7%9A%84KVO%E6%9C%BA%E5%88%B6/</link>
        <guid isPermaLink="true">http://blog.oneinbest.com/2015/12/23/iOS%E4%B8%AD%E7%9A%84KVO%E6%9C%BA%E5%88%B6/</guid>
        
        <category>iOS</category>
        
        <category>KVO</category>
        
        
      </item>
    
  </channel>
</rss>
